<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<script type="text/javascript"
  src="//dapi.kakao.com/v2/maps/sdk.js?appkey=f51f22a3699fa4000697e5b37ae2ffe4&libraries=services,clusterer,drawing"></script>
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<link
  th:href="@{https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css}"
  rel="stylesheet"
  integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD"
  crossorigin="anonymous">
<link th:href="@{/css/main.css}" rel="stylesheet" />
<link th:href="@{/css/star.css}" rel="stylesheet" />
<link th:href="@{/css/map.css}" rel="stylesheet" />
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script
  th:src="@{https://dapi.kakao.com/v2/maps/sdk.js(appkey=f51f22a3699fa4000697e5b37ae2ffe4)}"
  defer></script>
<script type="module" th:src="@{/js/views.js}" defer></script>
<script type="module" th:src="@{/js/register.js}" defer></script>
<script type="module" th:src="@{/js/Authentication.js}" defer></script>
<script type="module" th:src="@{/js/profileImg.js}" defer></script>
<script type="module" th:src="@{/js/myreviews.js}" defer></script>
<script type="module" th:src="@{/js/memberUpdate.js}" defer></script>
<script type="module" th:src="@{/js/bookMark.js}" defer></script>
<title>문화 Hang의 길을 따라..</title>
</head>
<body>

  <!-- nav 시작 -->
  <div class="container">
    <div class="row" id="navPosition">

      <nav th:if="${session.member == null}" id="nav-default"
        th:insert="~{fragments/nav :: nav}"
        th:onclick="sessionStorageClear()"></nav>


      <nav th:if="${session.member != null}" id="nav-login"
        th:insert="~{fragments/loginnav :: loginnav}"></nav>

    </div>
  </div>

  <!-- nav 끝 -->
  <div style="z-index: 9999; position: relative;">







    <!-- 
    <input type="checkbox" id="menuicon">
    <ul>
      <li><label for="menuicon"> <span></span> <span></span>
          <span></span>
      </label></li>

    </ul>
   
     -->








    <!-- 문화재 검색결과 사이드바 -->
    <div class="sidebar searchResult scrollBarDesign"
      style="box-shadow: 1px 1px 5px rgb(98, 107, 233);">
      <div style="text-align: center;">
        <p
          style="font-size: 2.5em; font-family: 'moonhwa'; margin: 10px 0px;">검색결과
        </p>
        <p id="searchCount"
          style="font-family: 'moonhwa'; font-size: 1em;"></p>
      </div>
      <div id="searchResult">
        <div style="text-align: center; border: none;">
          <p
            style="font-size: 1.8em; color: rgb(171, 17, 126); font-weight: bold; text-align: center; margin-top: 90%;">대기
            중</p>
          <img class="nugiimg" alt="" src="./img/nugi.png"
            style="width: 100px; height: 100px;">
        </div>
      </div>
    </div>
  </div>

  <div id="map"></div>
  <!-- 지도 위치 -->

  <div id="modalDetail"></div>
  <!-- 모달이 붙을 div -->
  <div id="modalPoint"></div>
  <!-- 모달이 붙을 div -->
  <div id="modalPoint2"></div>
  <!-- 모달이 붙을 div -->
  <div id="modalPoint3"></div>
  <!-- 모달이 붙을 div -->
  <div id="modalBookmark"></div>
  <!-- 모달이 붙을 div -->


  <script type="text/javascript">
			// 지도 구현을 위한 기본 소스값
			var container = document.getElementById('map'); //지도를 담을 영역의 DOM 레퍼런스
			var options = { //지도를 생성할 때 필요한 기본 옵션
				center : new kakao.maps.LatLng(37.578559, 126.977007), //지도의 중심좌표.
				level : 5
			//지도의 레벨(확대, 축소 정도)
			};
			var map = new kakao.maps.Map(container, options); //지도 생성 및 객체 리턴

			// 일반 지도와 스카이뷰로 지도 타입을 전환 및 확대축소컨트롤
			//
			var mapTypeControl = new kakao.maps.MapTypeControl();
			// 지도에 컨트롤을 추가해야 지도위에 표시됩니다
			// kakao.maps.ControlPosition은 컨트롤이 표시될 위치를 정의하는데 TOPRIGHT는 오른쪽 위를 의미합니다
			map.addControl(mapTypeControl, kakao.maps.ControlPosition.TOPRIGHT);
			// 지도 확대 축소를 제어할 수 있는 줌 컨트롤을 생성합니다
			var zoomControl = new kakao.maps.ZoomControl();
			map.addControl(zoomControl, kakao.maps.ControlPosition.RIGHT);
			
			var marker = new kakao.maps.Marker();
			var infowindow = new kakao.maps.InfoWindow({ disableAutoPan: true });
			
			
			
			// 검색결과 창 띄우기
				  let menuicon = document.querySelector('#menuicon');
				  let sidebar = document.querySelector('.sidebar');

			if (menuicon && sidebar) {
				  menuicon.addEventListener('click', () => {
				    // menuicon이 클릭되었을 때 .sidebar에 스타일 변경
				    if (menuicon.checked) {
				      sidebar.style.left = '0';
				    } else {
				      sidebar.style.left = '-100%';
				    }
				  });
			}
		</script>
  <!--  로그아웃 시 세션스토리지 클리어 -->
  <script th:inline="javascript">
			function sessionStorageClear() {
				sessionStorage.clear();
			}
		</script>
  <script
    src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe"
    crossorigin="anonymous"></script>
</body>
</html>